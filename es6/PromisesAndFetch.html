<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Promises and Fetch - js-all-in-one(A.R)</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../AboutMe.html"><strong aria-hidden="true">1.</strong> AboutMe</a></li><li class="chapter-item expanded "><a href="../INTRO.html"><strong aria-hidden="true">2.</strong> Introductory</a></li><li class="chapter-item expanded "><a href="../es6/ES6.html"><strong aria-hidden="true">3.</strong> ES6</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../es6/BeforeWeGetStarted.html"><strong aria-hidden="true">3.1.</strong> Before We Get Started</a></li><li class="chapter-item "><a href="../es6/Helper.html"><strong aria-hidden="true">3.2.</strong> Helpers</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../es6/TheForEachHelper.html"><strong aria-hidden="true">3.2.1.</strong> The forEach</a></li><li class="chapter-item "><a href="../es6/TheMapHelper.html"><strong aria-hidden="true">3.2.2.</strong> The map</a></li><li class="chapter-item "><a href="../es6/TheFilterHelper.html"><strong aria-hidden="true">3.2.3.</strong> The filter</a></li><li class="chapter-item "><a href="../es6/TheFindHelper.html"><strong aria-hidden="true">3.2.4.</strong> The find</a></li><li class="chapter-item "><a href="../es6/TheEveryAndSomeHelper.html"><strong aria-hidden="true">3.2.5.</strong> The every and some Helper</a></li><li class="chapter-item "><a href="../es6/TheReduceHelper.html"><strong aria-hidden="true">3.2.6.</strong> The reduce Helper</a></li></ol></li><li class="chapter-item "><a href="../es6/Variable.html"><strong aria-hidden="true">3.3.</strong> Variables</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../es6/ConstAndLet.html"><strong aria-hidden="true">3.3.1.</strong> const and let</a></li><li class="chapter-item "><a href="../es6/TemplateStrings.html"><strong aria-hidden="true">3.3.2.</strong> Template Strings</a></li></ol></li><li class="chapter-item "><a href="../es6/FP.html"><strong aria-hidden="true">3.4.</strong> Functional Programming</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../es6/ArrowFunctions.html"><strong aria-hidden="true">3.4.1.</strong> Arrow Functions</a></li><li class="chapter-item "><a href="../es6/DefaultArguments.html"><strong aria-hidden="true">3.4.2.</strong> DefaultArguments</a></li><li class="chapter-item "><a href="../es6/DefaultFunctionArguments.html"><strong aria-hidden="true">3.4.3.</strong> Default Function Arguments</a></li><li class="chapter-item "><a href="../es6/EnhancedObjectLiterals.html"><strong aria-hidden="true">3.4.4.</strong> Enhanced Object Literals</a></li></ol></li><li class="chapter-item "><a href="../es6/Operator.html"><strong aria-hidden="true">3.5.</strong> Operators</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../es6/RestAndSpreadOperator.html"><strong aria-hidden="true">3.5.1.</strong> Rest and Spread Operators</a></li><li class="chapter-item "><a href="../es6/Destructuring.html"><strong aria-hidden="true">3.5.2.</strong> Destructuring</a></li></ol></li><li class="chapter-item "><a href="../es6/OOP.html"><strong aria-hidden="true">3.6.</strong> Object Oriented Programming</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../es6/Classes.html"><strong aria-hidden="true">3.6.1.</strong> Classes</a></li></ol></li><li class="chapter-item expanded "><a href="../es6/concurrency.html"><strong aria-hidden="true">3.7.</strong> Concurrency</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../es6/Generators.html"><strong aria-hidden="true">3.7.1.</strong> Generators</a></li><li class="chapter-item expanded "><a href="../es6/PromisesAndFetch.html" class="active"><strong aria-hidden="true">3.7.2.</strong> Promises and Fetch</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../Glossery.html"><strong aria-hidden="true">4.</strong> Glossery</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">js-all-in-one(A.R)</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/armanriazi/js-all-in-one/tree/main/workspace" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/armanriazi/js-all-in-one/edit/main/workspace/./workspace//es6/PromisesAndFetch.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="section-17-promises-and-fetch"><a class="header" href="#section-17-promises-and-fetch">Section 17: Promises and Fetch</a></h1>
<ul>
<li><a href="#code-execution-in-javascript">Code Execution in JavaScript</a></li>
<li><a href="#terminology-of-promises">Terminology of Promises</a></li>
<li><a href="#use-promises">Use Promises</a></li>
<li><a href="#ajax-requests-with-fetch-helper">Ajax Requests with <code>fetch</code>() Helper</a></li>
</ul>
<h2 id="code-execution-in-javascript"><a class="header" href="#code-execution-in-javascript">Code Execution in JavaScript</a></h2>
<p>Before answer the question about “What’s Promise?”, we need to know how does JavaScript execute codes.</p>
<br/>
<div align="right">
  <b><a href="#section-17-promises-and-fetch">[ ↥ Back To Top ]</a></b>
</div>
<br/>
<h2 id="terminology-of-promises"><a class="header" href="#terminology-of-promises">Terminology of Promises</a></h2>
<p>For supporting asynchronous programming, JavaScript uses a callback. However, the callback implementation has a major problem which is called as Callback hell. Promises come to rescue to solve the problem of callback hell.</p>
<p>Promises are a pattern that greatly simplifies asynchronous programming by making the code look synchronous and avoid problems associated with callbacks.</p>
<p>A Promise has three states.</p>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
pending: Initial state, neither fulfilled nor rejected.</li>
<li><input disabled="" type="checkbox" checked=""/>
fulfilled: It means that the operation completed successfully.</li>
<li><input disabled="" type="checkbox" checked=""/>
rejected: It means that the operation failed.</li>
</ul>
<p align="center">
  <img src="https://i.imgur.com/NJBcnWP.png" alt="Three States of Promises" height="250px">
</p>
<p align="center">
  <img src="https://raw.githubusercontent.com/dipakkr/ES6-Guide/master/assets/promises.png" alt="ES6 : Promises" height="250px">
</p>
<ul>
<li><code>unresolved</code></li>
<li><code>resolved</code></li>
<li><code>rejected</code></li>
</ul>
<br/>
<div align="right">
  <b><a href="#section-17-promises-and-fetch">[ ↥ Back To Top ]</a></b>
</div>
<br/>
<h2 id="use-promises"><a class="header" href="#use-promises">Use Promises</a></h2>
<p>The vast majority of use promises is working with Ajax requests but we can make promises without Ajax requests. Moreover, the promises are used to solve the issue of asynchronous code. Note that the trick to dealing with asynchronous code is through <strong>how we call <code>resolve()</code> and <code>reject()</code></strong>.</p>
<p>There are important note about finally:</p>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
A finally handler has no arguments. In finally we don’t know whether the promise is successful or not. That’s all right, as our task is usually to perform “general” finalizing procedures. Please take a look at the example above: as you can see, the finally handler has no arguments, and the promise outcome is handled by the next handler.</li>
<li><input disabled="" type="checkbox" checked=""/>
A finally handler “passes through” the result or error to the next suitable handler.
For instance, here the result is passed through finally to then:</li>
</ul>
<pre><code class="language-javascript">let promise = new Promise((resolve, reject) =&gt; {
    setTimeout(() =&gt; {
      resolve(&quot;Resolved&quot;);
      //reject(new Error(&quot;Whoops!&quot;));       resolve(&quot;Resolved&quot;);
    }, 3000);
  });
</code></pre>
<pre><code class="language-javascript">  promise
     .then((result) =&gt; console.log(`Finally finished: ${result}!`)) // &lt;-- .then shows &quot;value&quot;
     .then((error) =&gt; console.log(`I was also ran: ${error}!`)) // &lt;-- .then shows &quot;value&quot;    
    .catch(function(error) {
          console.log(error);
    })
      // runs when the promise is settled, doesn't matter successfully or not
    .finally(console.log(&quot;stop loading indicator&quot;))  // triggers first
    ;  
</code></pre>
<pre><code class="language-javascript">new Promise((resolve, reject) =&gt; {
  throw new Error(&quot;error&quot;);
})
  .finally(() =&gt; console.log(&quot;Promise ready&quot;)) // triggers first
  .catch(err =&gt; console.log(err));  // &lt;-- .catch shows the error
</code></pre>
<h3 id="re-resolve-a-promise"><a class="header" href="#re-resolve-a-promise">Re-resolve a promise?</a></h3>
<p>What’s the output of the code below?</p>
<pre><code class="language-javascript">let promise = new Promise(function(resolve, reject) {
  resolve(1);

  setTimeout(() =&gt; resolve(2), 1000);
});

promise.then(console.log);
// Output: 1
</code></pre>
<p>Next:</p>
<pre><code class="language-javascript">function delay(ms) {
  return new Promise(resolve =&gt; setTimeout(resolve, ms));
}

delay(3000).then(() =&gt; console.log('runs after 3 seconds'));
// Output: runs after 3 seconds
</code></pre>
<p>This feature allows us to integrate custom objects with promise chains without having to inherit from Promise.</p>
<pre><code class="language-javascript">class Thenable {
  constructor(num) {
    this.num = num;
  }
  then(resolve, reject) {
    //console.log(resolve); // function() { native code }
    setTimeout(() =&gt; resolve(this.num * 2), 1000); // (**)
  }
}
new Promise(resolve =&gt; resolve(1))
  .then(result =&gt; {
    return new Thenable(result); // (*)
  })
  .then(console.log); // shows 2 after 1000ms
  // Output: 2
</code></pre>
<br/>
<div align="right">
  <b><a href="#section-17-promises-and-fetch">[ ↥ Back To Top ]</a></b>
</div>
<br/>
<h2 id="ajax-requests-with-fetch-helper"><a class="header" href="#ajax-requests-with-fetch-helper">Ajax Requests with <code>fetch</code>() Helper</a></h2>
<p>The <code>fetch()</code> helper is the feature that is just like promises implemented inside the browsers already.</p>
<pre><code class="language-javascript">url = 'http://jsonplaceholder.typicode.com/posts/'
fetch(url)
  .then(response =&gt; response.json())
  .then(data =&gt; console.log(data))
  .then(function(text) {
    // ...and here's the content of the remote file
    console.log(text); // {&quot;name&quot;: &quot;iliakan&quot;, &quot;isAdmin&quot;: true}
  });
</code></pre>
<h3 id="promise-all"><a class="header" href="#promise-all">Promise All</a></h3>
<p>Let’s say we want many promises to execute in parallel and wait until all of them are ready.</p>
<p>For instance, download several URLs in parallel and process the content once they are all done.</p>
<p>That’s what Promise.all is for.</p>
<pre><code class="language-javascript">Promise.all([
  new Promise((resolve, reject) =&gt; {
    setTimeout(() =&gt; resolve(1), 1000)
  }),
  2,
  3
]).then(console.log); // 1, 2, 3
</code></pre>
<p>Next:</p>
<pre><code class="language-javascript">Promise.all([
  new Promise(resolve =&gt; setTimeout(() =&gt; resolve(1), 3000)), // 1
  new Promise(resolve =&gt; setTimeout(() =&gt; resolve(2), 2000)), // 2
  new Promise(resolve =&gt; setTimeout(() =&gt; resolve(3), 1000))  // 3
]).then(console.log); // 1,2,3 when promises are ready: each promise contributes an array member

</code></pre>
<h3 id="promiseallsettled"><a class="header" href="#promiseallsettled">Promise.allSettled</a></h3>
<p>Promise.allSettled just waits for all promises to settle, regardless of the result. The resulting array has:</p>
<ul>
<li><input disabled="" type="checkbox" checked=""/>
{status:“fulfilled”, value:result} for successful responses,</li>
<li><input disabled="" type="checkbox" checked=""/>
{status:“rejected”, reason:error} for errors.</li>
</ul>
<pre><code class="language-javascript">let urls = [
  'https://api.github.com/users/iliakan',
  'https://api.github.com/users/remy',
  'https://no-such-url'
];

Promise.allSettled(urls.map(url =&gt; fetch(url)))
  .then(results =&gt; { // (*)
    results.forEach((result, num) =&gt; {
      if (result.status == &quot;fulfilled&quot;) {
        console.log(`${urls[num]}: ${result.value.status}`);
      }
      if (result.status == &quot;rejected&quot;) {
        console.log(`${urls[num]}: ${result.reason}`);
      }
    });
  });

/*[
  {status: 'fulfilled', value: ...response...},
  {status: 'fulfilled', value: ...response...},
  {status: 'rejected', reason: ...error object...}
]*/
</code></pre>
<h3 id="polyfill"><a class="header" href="#polyfill">Polyfill</a></h3>
<p>If the browser doesn’t support Promise.allSettled, it’s easy to polyfill:</p>
<pre><code class="language-javascript">if (!Promise.allSettled) {
  const rejectHandler = reason =&gt; ({ status: 'rejected', reason });

  const resolveHandler = value =&gt; ({ status: 'fulfilled', value });

  Promise.allSettled = function (promises) {
    const convertedPromises = promises.map(p =&gt; Promise.resolve(p).then(resolveHandler, rejectHandler));
    return Promise.all(convertedPromises);
  };
}
</code></pre>
<h3 id="promiserace"><a class="header" href="#promiserace">Promise.race</a></h3>
<p>Similar to Promise.all, but waits only for the first settled promise and gets its result (or error).</p>
<pre><code class="language-javascript">Promise.race([
  new Promise((resolve, reject) =&gt; setTimeout(() =&gt; resolve(1), 1000)),
  new Promise((resolve, reject) =&gt; setTimeout(() =&gt; reject(new Error(&quot;Whoops!&quot;)), 2000)),
  new Promise((resolve, reject) =&gt; setTimeout(() =&gt; resolve(3), 3000))
]).then(console.log); // OUtput 1
</code></pre>
<h3 id="promiseany"><a class="header" href="#promiseany">Promise.any</a></h3>
<p>Similar to Promise.race, but waits only for the first fulfilled promise and gets its result. If all of the given promises are rejected, then the returned promise is rejected with AggregateError – a special error object that stores all promise errors in its errors property.</p>
<pre><code class="language-javascript">Promise.any([
  new Promise((resolve, reject) =&gt; setTimeout(() =&gt; reject(new Error(&quot;Whoops!&quot;)), 1000)),
  new Promise((resolve, reject) =&gt; setTimeout(() =&gt; resolve(1), 2000)),
  new Promise((resolve, reject) =&gt; setTimeout(() =&gt; resolve(3), 3000))
]).then(console.log); // 1
</code></pre>
<p>The method is used for compatibility, when a function is expected to return a promise.</p>
<p>For example, the loadCached function below fetches a URL and remembers (caches) its content. For future calls with the same URL it immediately gets the previous content from cache, but uses Promise.resolve to make a promise of it, so the returned value is always a promise:</p>
<pre><code class="language-javascript">let cache = new Map();
function loadCached(url) {
  if (cache.has(url)) {
    return Promise.resolve(cache.get(url)); // (*)
  }
  return fetch(url)
    .then(response =&gt; response.text())
    .then(text =&gt; {
      cache.set(url,text);
      return text;
    });
}
</code></pre>
<h3 id="unhandled-rejection"><a class="header" href="#unhandled-rejection">Unhandled rejection</a></h3>
<pre><code class="language-javascript">let promise = Promise.reject(new Error(&quot;Promise Failed!&quot;));
setTimeout(() =&gt; promise.catch(err =&gt; console.log('caught')), 1000);
</code></pre>
<h3 id="fetch"><a class="header" href="#fetch">Fetch</a></h3>
<pre><code class="language-javascript">fetch('/article/promise-chaining/user.json')
  .then(response =&gt; response.json())
  .then(user =&gt; fetch(`https://api.github.com/users/${user.name}`))
  .then(response =&gt; response.json())
  .then(githubUser =&gt; new Promise(function(resolve, reject) { // (*)
    let img = document.createElement('img');
    img.src = githubUser.avatar_url;
    img.className = &quot;promise-avatar-example&quot;;
    document.body.append(img);
    setTimeout(() =&gt; {
      img.remove();
      resolve(githubUser); // (**)
    }, 3000);
  }))
  // triggers after 3 seconds
  .then(githubUser =&gt; console.log(`Finished showing ${githubUser.name}`));
</code></pre>
<p>Because the <code>fetch()</code> helper only catch when the network request flat out fails. It’s really highly recommend that still use Ajax utility libraries like <code>axios</code> or <code>jQuery</code>.</p>
<pre><code class="language-javascript">Promise.all([
  fetch('/template.html'),
  fetch('/style.css'),
  fetch('/data.json')
]).then(render); // render method needs results of all fetches
</code></pre>
<p>Next:</p>
<pre><code class="language-javascript">let urls = [
  'https://api.github.com/users/iliakan',
  'https://api.github.com/users/remy',
  'https://api.github.com/users/jeresig'
];

// map every url to the promise of the fetch
let requests = urls.map(url =&gt; fetch(url));

// Promise.all waits until all jobs are resolved
Promise.all(requests)
  .then(responses =&gt; responses.forEach(
    response =&gt; console.log(`${response.url}: ${response.status}`)
  ));
</code></pre>
<br/>
<div align="right">
  <b><a href="#section-17-promises-and-fetch">[ ↥ Back To Top ]</a></b>
</div>
<br/>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../es6/Generators.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../Glossery.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../es6/Generators.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../Glossery.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>



        <script>
            window.playground_line_numbers = true;
        </script>

        <script>
            window.playground_copyable = true;
        </script>

        <script src="../ace.js"></script>
        <script src="../editor.js"></script>
        <script src="../mode-rust.js"></script>
        <script src="../theme-dawn.js"></script>
        <script src="../theme-tomorrow_night.js"></script>

        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
